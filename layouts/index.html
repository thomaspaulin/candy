{{ define "main" }}
<main>
    {{ .Content }}

    <h1>Latest Posts</h1>
    {{ $paginator := .Paginate (.Data.Pages.ByDate.Reverse) }}
    {{range where $paginator.Pages "Type" "ne" "_webpages" }}
    <article>
        <header>
            <h2><a href="{{.Permalink}}">{{.Title}}</a></h2>
        </header>
        <aside class="meta">{{ .Date.Format "Jan 02, 2006" }} â€¢ {{ .ReadingTime }} min</aside>
        <p>{{ .Summary }}</p>
    </article>
    {{ end }}

    <div>
        <a href="./posts/">View All {{ len (where .Site.RegularPages "Section" "posts") }} Posts</a>
    </div>
</main>
{{ end }}
